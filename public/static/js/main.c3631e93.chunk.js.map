{"version":3,"sources":["config.js","components/auth/Signup.js","components/auth/SignIn.js","components/auth/GoogleButton.js","components/user/MyPlantOffer.js","components/user/PrivateProfile.js","components/user/EditProfile.js","components/chat/AllChats.jsx","components/Search/SingleSearchResult.js","components/Search/Search.js","components/Navbar.jsx","components/ImageUpload.js","components/CapturePicture.js","components/AddingPlant/UploadPlant.js","components/AddingPlant/PickingName.js","components/AddPlant.js","components/Maps.js","components/Search/SinglePlantCard.js","components/user/PublicProfile.js","components/chat/ChatPage.js","App.js","index.js"],"names":["API_URL","process","CHAT_URL","SignUp","props","onSignUp","errorMessage","onSubmit","className","htmlFor","type","id","name","SignIn","onSignIn","GoogleButton","onSuccess","onFailure","clientId","buttonText","cookiePolicy","MyPlantOffer","handleChange","event","a","setState","prevState","plant","available","target","checked","console","log","state","axios","patch","_id","withCredentials","response","data","this","displayName","scientificName","plantImageUrl","style","border","marginBottom","display","flexDirection","alignContent","justifyContent","src","alt","height","width","Typography","variant","to","IconButton","Edit","Switch","color","onChange","Component","PrivateProfile","componentDidMount","get","user","fetchingUser","CircularProgress","profileImageUrl","plantsOffered","username","margin","alignItems","onClick","onLogOut","label","alignSelf","ExitToApp","fontSize","Avatar","map","index","Delete","EditProfile","handleUsernameChange","newName","value","handleAboutChange","newAbout","about","handleEmailChange","newEmail","email","handleUpdateProfile","history","goBack","firstName","lastName","padding","ArrowBackIos","maxWidth","maxHeight","noValidate","autoComplete","TextField","defaultValue","multiline","rows","Button","size","startIcon","Save","AllChats","me","allChats","them","chat","convo","justifyContents","overflow","noWrap","SingleSearchResult","plantId","city","location","userId","paddingLeft","pathname","varient","align","Search","allPlants","filteredPlants","loading","handleSearch","searchedPlant","filter","commonName","toLowerCase","includes","autoFocus","fullWidth","InputProps","startAdornment","InputAdornment","position","SearchOutlined","useStyles","makeStyles","theme","text","spacing","paper","paddingBottom","list","subheader","backgroundColor","palette","background","appBar","top","bottom","grow","flexGrow","fabButton","zIndex","left","right","Navbar","classes","Fragment","AppBar","Toolbar","edge","underline","Forum","Fab","Add","Map","ImageUpload","method","action","encType","accept","WebcamCapture","webcamRef","React","useRef","useState","imgSrc","setImgSrc","capture","useCallback","imageSrc","current","getScreenshot","useEffect","url","then","catch","err","videoConstraints","facingMode","audio","ref","screenshotFormat","onImageUpload","PickingName","plantInfo","onAddingPlant","species","scientificNameWithoutAuthor","picture","for","commonNames","plantName","i","AddPlant","setPlantName","hide","setHide","preventDefault","file","imageUrl","files","organ","uploadForm","FormData","append","result","plantData","push","MyMap","Number","MapContainer","center","zoom","scrollWheelZoom","TileLayer","attribution","Marker","Popup","SinglePlantCard","onChatClick","PublicProfile","thisUser","match","params","handleChatClick","participants","post","routeProps","gutterBottom","Eco","socket","ChatPage","messagesEnd","createRef","messageList","currentMessage","scrollToBottom","scrollIntoView","behavior","handleMessageInput","e","sendMessage","messageContent","chatId","content","sender","message","emit","io","conversationId","on","val","float","clear","el","placeholder","App","plantImage","showLoading","userResponse","handleSignUp","password","newUser","handleSignIn","myUser","error","handleGoogleSuccess","profileObj","givenName","familyName","googleId","handleGoogleFailure","handleLogOut","exact","path","render","Maps","routerProps","CapturePicture","withRouter","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c3631e93.chunk.js","sourcesContent":["let API_URL = process.env.REACT_APP_SERVER_URL\nlet GOOGLE_ID = process.env.REACT_APP_GOOGLE_ID\nlet CHAT_URL = process.env.REACT_APP_CHAT_SERVER_URL\nlet BASE_URL = process.env.REACT_APP_SERVER_AND_PORT\n\nexport { API_URL, GOOGLE_ID, CHAT_URL, BASE_URL}","import React from 'react';\n\nfunction SignUp(props){\n\n    const {onSignUp, errorMessage} = props \n\n    return (\n        <div>\n        <form onSubmit={onSignUp}>\n            <div className=\"form-group\">\n                <label htmlFor=\"InputUsername\">username</label>\n                <input type=\"text\" className=\"form-control\" id=\"InputUsername\" name=\"username\" />\n            </div>\n            <div className=\"form-group\">\n                <label htmlFor=\"InputEmail\">Email address</label>\n                <input type=\"email\" className=\"form-control\" id=\"InputEmail\" name=\"email\" />\n                <small id=\"emailHelp\" className=\"form-text text-muted\">We'll never share your email with anyone else.</small>\n            </div>\n            <div className=\"form-group\">\n                <label htmlFor=\"InputPassword\">Password</label>\n                <input name=\"password\" type=\"password\" className=\"form-control\" id=\"InputPassword\" />\n            </div>\n            <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n        </form>\n        {errorMessage ? <p>{errorMessage}</p> : null}\n        </div> \n    )\n}\n\nexport default SignUp","import React from 'react';\n\nfunction SignIn(props){\n    return (\n        <form onSubmit={props.onSignIn}>\n            <div className=\"form-group\">\n                <label htmlFor=\"InputEmail\">Email address</label>\n                <input type=\"email\" className=\"form-control\" id=\"InputEmail\" name=\"email\" />\n            </div>\n            <div className=\"form-group\">\n                <label htmlFor=\"InputPassword\">Password</label>\n                <input name=\"password\" type=\"password\" className=\"form-control\" id=\"InputPassword\" />\n            </div>\n            <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n            \n            {props.errorMessage ? <p>{props.errorMessage}</p> : null}\n        </form>\n    )\n}\n\nexport default SignIn","import React from 'react'\nimport GoogleLogin from 'react-google-login';\nimport { GOOGLE_ID } from '../../config';\n\nfunction GoogleButton(props) {\n    const {onSuccess, onFailure} = props\n   const ID = GOOGLE_ID\n    return (\n        <div>\n            <GoogleLogin\n                clientId= {`${ID}`}\n                buttonText=\"Login\"\n                onSuccess={onSuccess}\n                onFailure={onFailure}\n                cookiePolicy={'single_host_origin'}\n            />\n        </div>\n    )\n}\n\nexport default GoogleButton","import { IconButton, Switch, Typography } from '@material-ui/core'\nimport { Edit } from '@material-ui/icons'\nimport React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { API_URL } from '../../config'\nimport axios from 'axios'\n\n\nexport default class MyPlantOffer extends Component{\n         \n    constructor(props) {\n        super(props);\n        this.state = { \n            plant: this.props.plant,\n            available: this.props.plant.available }\n    }\n   \n    handleChange = async (event) =>  {\n        await this.setState( prevState => ({\n\n            plant: {\n                ...prevState.plant,\n                available: event.target.checked\n            },\n            available: event.target.checked\n\n        }))\n        console.log('state log before axios', this.state.plant)\n        let response = await axios.patch(`${API_URL}/user/plant/${this.state.plant._id}`, {plant: this.state.plant}, {withCredentials: true})\n        console.log('response', response.data)\n        await this.setState({plant: response.data})   \n        console.log('state after update from response', this.state.plant) \n    }\n    \n    \n    render() {\n        const { _id, displayName, scientificName, plantImageUrl } = this.state.plant      \n\n        return (\n        <div style={{border: '#BBB 1px solid', marginBottom : '10px'}}>\n            <div style={{    \n                    display : 'flex', \n                    flexDirection : 'row', \n                    alignContent: 'center', \n                    justifyContent : 'space-between'\n                    }}>\n\n            <img src={plantImageUrl} alt={scientificName}\n                 style={{height: '100px', width : '100px' }} />\n\n            <div style={{height : 'auto', display : 'flex', flexDirection : 'column', justifyContent : 'center'}}>\n            <Typography variant=\"h4\">{displayName}</Typography>\n            <Typography variant=\"subtitle1\">{scientificName}</Typography>\n            </div>\n            <div style={{height : 'auto', display : 'flex', flexDirection : 'column', justifyContent : 'space-between'}}>\n            <Link to={`/user/plant/${_id}/edit`}><IconButton><Edit/></IconButton></Link>\n            <Switch checked={this.state.available} color=\"secondary\" onChange={this.handleChange} name={scientificName} />\n            </div>\n            </div>\n        </div>\n        )\n    }\n}","import { Avatar, IconButton, CircularProgress, Typography } from '@material-ui/core'\nimport { Delete, ExitToApp } from '@material-ui/icons'\nimport React, { Component } from 'react'\nimport MyPlantOffer from './MyPlantOffer'\nimport axios from 'axios'\nimport { API_URL } from '../../config'\nimport { Link } from 'react-router-dom'\n\n\nexport default class PrivateProfile extends Component {\n\n    componentDidMount = async () => {\n        let response = await axios.get(`${API_URL}/whoami`, {withCredentials: true})\n        console.log('PrivateProfile User data:', response.data)\n        await this.setState({\n            user: response.data,\n            fetchingUser: false\n        })\n    }\n\n    state = {\n        user: null,\n        fetchingUser: true\n    }\n    render() {\n        if (this.state.fetchingUser) {\n            return <CircularProgress />\n        }\n        const { profileImageUrl, plantsOffered, username, } = this.state.user\n        return (\n            <>\n                <div style={{ margin: '10px', display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n                    <IconButton onClick={this.props.onLogOut} label=\"Logout\" style={{ alignSelf: 'flex-end' }}><ExitToApp fontSize=\"large\" /></IconButton>\n\n                    <Avatar alt={username} src={profileImageUrl} />\n                    <Link to=\"/user/edit-profile\">edit profile</Link>\n                </div>\n                <div>\n                    {\n                        !this.state.user ?\n                            'You have no plants offered. Add some now!' :\n                            plantsOffered.map((plant, index) => {\n                                return <MyPlantOffer key={index} plant={plant} />\n                            })}\n                    <div style={{ color: \"red\", display: 'flex', justifyContent: 'center', margin: '100px'}}>\n                        <Delete /><Typography color=\"error\" variant=\"h6\">Delete Account</Typography>\n                    </div>\n                </div>\n            </>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport axios from 'axios'\nimport { API_URL } from '../../config'\nimport { Avatar, Button, CircularProgress, IconButton, TextField } from '@material-ui/core'\nimport { ArrowBackIos, Save } from '@material-ui/icons'\nimport { Link } from 'react-router-dom'\n\nexport default class EditProfile extends Component {\n\n    state = {\n        user: null,\n        fetchingUser: true\n    }\n\n    componentDidMount = async() => {\n        try{\n       let response = await axios.get(`${API_URL}/user`, {withCredentials: true})\n       console.log('Edit Profile CDM get user', response.data)\n        this.setState({\n             user: response.data,\n             fetchingUser: false,\n           })\n         }\n         catch(err) {\n           console.log('EDIT User fetch failed', err)\n           this.setState({\n             fetchingUser: false,\n           })\n         }  \n    }\n    \n    handleUsernameChange = (event) => {\n        let newName = event.target.value\n        this.setState({\n            user: {...this.state.user, username: newName }\n        })\n    }\n    handleAboutChange = (event) => {\n        let newAbout = event.target.value\n        this.setState({\n            user: {...this.state.user, about: newAbout }\n        })\n    }\n    handleEmailChange = (event) => {\n      let newEmail = event.target.value\n      this.setState({\n          user: {...this.state.user, email: newEmail }\n      })\n    }\n    handleUpdateProfile = async () => {\n\n      console.log('state log before axios', this.state.user)\n      let response = await axios.patch(`${API_URL}/user/profile`, {user: this.state.user}, {withCredentials: true})\n      console.log('patch User response', response.data)\n      await this.setState({user: response.data})   \n      console.log('state after update from response', this.state.user) \n      this.props.history.goBack()\n    }\n\n    render() {\n            if (this.state.fetchingUser) {\n                return (\n                  <div style={{display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\n                    <CircularProgress/>\n                  </div>\n                )}\n            \n            let {profileImageUrl, username, about, firstName, lastName, email} = this.state.user\n            username = !username ?\n                            firstName ? firstName : null :\n                            username;\n          \n                            \n            console.log(this.state.user)\n        return (\n            <div style={{display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center', padding: '5px'}}>\n            <IconButton onClick={this.props.history.goBack} style={{alignSelf: 'start'}}><ArrowBackIos/></IconButton> \n            <h3> Edit Profile</h3>\n            <Avatar src={profileImageUrl} alt={username} style={{width: '30vw', height: '30vw', maxWidth: '150px', maxHeight: '150px'}} />\n            <form noValidate autoComplete=\"off\">\n                <TextField  onChange={this.handleUsernameChange} \n                            id=\"username\"  \n                            label=\"Username\" \n                            defaultValue={username} \n                            margin=\"normal\" \n                            variant=\"outlined\" \n                />\n                <br/>\n                <TextField  onChange={this.handleAboutChange} \n                            id=\"about\" \n                            label=\"About Me\" \n                            defaultValue={about} \n                            multiline rows={4} \n                            margin=\"normal\" \n                            variant=\"outlined\" \n                /> \n                <br/>\n                <TextField  onChange={this.handleEmailChange} \n                            id=\"email\" \n                            label=\"Email\" \n                            defaultValue={email} \n                            margin=\"normal\" \n                            variant=\"outlined\" \n                /> \n                <br/>\n                </form>\n                <Button     onClick={this.handleUpdateProfile}\n                            variant=\"contained\" \n                            color=\"primary\" \n                            size=\"large\" \n                            style={{marginBottom: '100px'}} \n                            startIcon={<Save />}> Save </Button>\n                \n  \n            </div>\n        )\n    }\n}\n","import React, { Component} from 'react'\nimport { Avatar, Typography} from '@material-ui/core'\nimport { CHAT_URL } from '../../config'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\n    \n    export default class AllChats extends Component {\n        \n        constructor(props) {\n            super (props)\n            this.state = {\n                me: this.props.me,\n                allChats: [{them: \"Dave\", chat: 'Hi George! I\\'m insterested in the Ficus you have available.'}, {them: \"Bob\", chat: 'heyyyy'}, {them: 'Guiiii', chat: 'oh hai'}]\n\n            }\n        }\n        state = {\n            me: null,\n        }\n\n        // componentDidMount = async () => {\n        //     //retrieve all chats user is party to.\n\n        //     const myUserId = this.props.me._id\n        //     let response = await axios.get(`${CHAT_URL}/user/chats`, {myUserId}, {withCredentials: true})\n        //     console.log('All Chats CDM Response:', response)\n        //     this.setState({ \n        //         allChats: response.data\n        //     })\n        // }\n\n        render() {\n            const {allChats} = this.state\n            return (\n                <div style={{padding: '10px'}}>\n                   \n                <Typography variant=\"h4\">Messages</Typography>\n                <hr/> \n                    {allChats.map((convo) => {\n                        return(\n                            <Link to={`/chat/${convo.them}`} key={`chat-${convo.them}`}>\n                            <div  \n                                 style={{   border: 'grey 1px solid', \n                                            height: '75px', \n                                            display: 'flex', \n                                            flexDirection: 'row', \n                                            alignItems: 'center', \n                                            justifyContents: 'center'\n                                 }}>\n                                <div style={{margin: '10px'}}>\n                                    <Avatar alt={convo.them} src={convo.them} />\n                                </div> \n                                <div style={{overflow: \"clip\", padding: \"5px\", width: '100%'}}>\n                                <div style={{   display: 'flex', \n                                                flexDirection: 'row', \n                                                alignItems: 'center', \n                                                justifyContent: 'space-between'\n                                                }}>\n                                    <Typography variant=\"h6\">{convo.them}</Typography> \n                                    <Typography variant=\"caption\">Tuesday 4pm</Typography>\n                                </div>\n                                <Typography variant=\"body2\" noWrap display=\"block\">{convo.chat} </Typography>\n                                </div>\n                            </div>\n                            </Link>\n                        )\n                    })}\n                </div>\n            )\n        }\n    }","import { Avatar, Typography } from '@material-ui/core'\nimport React from 'react'\nimport { Link } from 'react-router-dom'\n\n\nexport default function SingleSearchResult(props) {\n\n    const { _id: plantId, \n            displayName, \n            location: city, \n            scientificName, \n            plantImageUrl, \n            user: {username, _id: userId, profileImageUrl }\n        } = props.plant\n    \n    return (\n        <div style={{ border: '#BBB 1px solid', margin: '2px', marginBottom: '10px' }}>\n            <div style={{\n                display: 'flex',\n                flexDirection: 'row',\n                alignContent: 'center',\n                justifyContent: 'space-between',\n                padding: 'none'\n                }}>\n\n                <img src={plantImageUrl} alt={scientificName}\n                    style={{ height: '25vw', width: '25vw', maxHeight: '100px', maxWidth: '100px' }} />\n\n                    <div style={{ paddingLeft: '5px', width: '50vw', height: 'auto', display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\n                        <Typography variant=\"h5\">{displayName}</Typography>\n                        <Typography variant=\"subtitle1\">{scientificName}</Typography>\n                        <Typography variant=\"subtitle2\">{city}</Typography>\n                    </div>\n                    <div style={{ height: 'auto', width: '25vw', maxWidth: '100px', display: 'flex', flexDirection: 'column',  alignItems: 'center', justifyContent: 'center' }}>\n                        <Link to={{pathname: `/users/${userId}`, state:{plant: plantId}}}>\n                        <Avatar alt={username} src={profileImageUrl} />\n                        </Link>\n                        <Typography varient=\"caption\" align=\"center\" >{username}</Typography>\n                    </div>\n            </div> \n        </div>\n        )\n}","import React, { Component } from 'react'\nimport { TextField, InputAdornment, CircularProgress} from '@material-ui/core'\nimport { SearchOutlined } from '@material-ui/icons'\nimport axios from 'axios'\nimport { API_URL } from '../../config'\nimport SingleSearchResult from './SingleSearchResult'\n\nexport default class Search extends Component {\n    \n    state = {\n        allPlants: null,\n        filteredPlants: null,\n        loading: true\n\n    }\n    async componentDidMount() {\n        let response = await axios.get(`${API_URL}/search`, {withCredentials: true});\n        console.log('ALL PLANTS', response.data)\n        this.setState({\n            allPlants: response.data,\n            filteredPlants: response.data,\n            loading: false\n        })\n    }\n    \n    handleSearch = (event) => {\n        const {allPlants} = this.state\n        let searchedPlant = event.target.value\n        let  filteredPlants = allPlants.filter((plant) => {\n            let concat = `${plant.scientificName} ${plant.displayName} ${plant.commonName[0]} ${plant.commonName[1]} ${plant.commonName[2]}`\n            return concat.toLowerCase().includes(searchedPlant.toLowerCase())\n        })\n        this.setState({ filteredPlants: filteredPlants})\n    \n      }\n\n    render() {\n        if (this.state.loading) {\n            return <CircularProgress/>\n          }\n        return (\n            \n            <div>\n                <TextField  id=\"searchBar\"\n                            label=\"Search for plants...\"\n                            onChange={this.handleSearch}\n                            variant=\"outlined\" autoComplete=\"false\" autoFocus fullWidth\n                            InputProps={{startAdornment:  <InputAdornment position=\"start\"> <SearchOutlined /> </InputAdornment>}}\n                />\n                { this.state.filteredPlants.map((plant, index) => {\n                    return ( <SingleSearchResult key={index} plant={plant} />)\n                })}\n            </div>\n        )\n    }\n}\n\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Forum, Add, Map, Search } from '@material-ui/icons';\nimport { IconButton, Toolbar, AppBar, Fab, Avatar} from '@material-ui/core';\nimport { Link } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n    text: {\n      padding: theme.spacing(2, 2, 0),\n    },\n    paper: {\n      paddingBottom: 50,\n    },\n    list: {\n      marginBottom: theme.spacing(2),\n    },\n    subheader: {\n      backgroundColor: theme.palette.background.paper,\n    },\n    appBar: {\n      top: 'auto',\n      bottom: 0\n    },\n    grow: {\n      flexGrow: 1,\n    },\n    fabButton: {\n      position: 'absolute',\n      zIndex: 1,\n      top: -30,\n      left: 0,\n      right: 0,\n      margin: '0 auto',\n    },\n  }));\n\nexport default function Navbar(props) {\n    \n          const classes= useStyles()\n          console.log('Navbar props:' , props)\n          const {user} = props\n          return (\n            \n            <React.Fragment>\n            <AppBar position=\"fixed\" color=\"primary\" className={classes.appBar}>\n        <Toolbar>\n          <IconButton edge=\"start\" color=\"inherit\">\n            <Link underline=\"none\"  to={'/user/profile'}><Avatar alt={user.username} src={user.profileImageUrl}></Avatar></Link>\n          </IconButton>\n          <IconButton color=\"inherit\">\n            <Link underline=\"none\"  to={'/user/chats'}> <Forum fontSize=\"large\" /> </Link>\n          </IconButton>\n          <Fab color=\"secondary\" aria-label=\"add\" className={classes.fabButton}>\n          <Link underline=\"none\"  to={'/addplant'}> <Add /> </Link>\n          </Fab>\n          <div className={classes.grow} />\n          <IconButton color=\"inherit\">\n          <Link underline=\"none\" color=\"white\" to={'/map'} > <Map fontSize=\"large\" /> </Link>\n          </IconButton>\n          <IconButton edge=\"end\" >\n           <Link underline=\"none\" to={'/search'}>  <Search fontSize=\"large\" /> </Link>\n          </IconButton>\n        </Toolbar>\n      </AppBar>\n    </React.Fragment>\n        )\n    }\n","import React from 'react'\nimport { API_URL } from \"../config\";\n\nexport default function ImageUpload() {\n    return (\n        <div>\n         <form method=\"POST\" action={`${API_URL}/plant/upload`} encType=\"multipart/form-data\">\n    <input type=\"file\" name=\"imageUrl\" accept=\"image/png, image/jpg\" />\n    <select name='organ'>\n    <option value=\"leaf\">Leaf</option>\n    <option value=\"flower\">flower</option>\n    </select>\n    <button type=\"submit\">Submit</button> \n    </form>        \n        </div>\n    )\n}\n","import React, {useEffect} from 'react'\nimport Webcam from \"react-webcam\";\nimport axios from 'axios';\nimport { API_URL } from '../config'\n\n\nconst WebcamCapture = () => {\n    const webcamRef = React.useRef(null);\n    const [imgSrc, setImgSrc] = React.useState(null);\n    const videoConstraints = {\n        facingMode: \"user\"}\n  \n    const capture = React.useCallback(() => {\n      const imageSrc = webcamRef.current.getScreenshot();\n\n      \n      setImgSrc(imageSrc);\n     console.log(typeof imageSrc)\n    }, [webcamRef, setImgSrc]);\n\n    useEffect(() => {\n      axios({\n        method: 'post',\n        url: `${API_URL}/picture/upload`,\n        data: imgSrc\n    })  \n      .then(() => {\n        console.log(\"YASSS\")\n      })\n      .catch((err => console.log(err)))\n    }, [imgSrc])\n    return (\n      <>\n        <Webcam \n        videoConstraints={videoConstraints}\n          audio={false}\n          ref={webcamRef}\n          screenshotFormat=\"image/png\"\n        />\n        <button onClick={capture}>Capture photo</button>\n        {imgSrc && (\n          <img\n            src={imgSrc} alt='pic'\n          />\n        )}\n      </>\n    );\n  };\n  \n  export default WebcamCapture;\n  \n  // https://www.npmjs.com/package/react-webcam\n  ","import React from 'react'\nimport CapturePicture from '../CapturePicture'\n// import { API_URL } from \"../config\";\n\nexport default function ImageUpload(props) {\n    const { onImageUpload } = props\n    return (\n        <div>\n            <form onSubmit={onImageUpload} >\n                {/* <CapturePicture/> */}\n                <input type=\"file\" name=\"imageUrl\" accept=\"image/png, image/jpg\" />\n                <select name='organ'>\n                    <option value=\"leaf\">Leaf</option>\n                    <option value=\"flower\">Flower</option>\n                    <option value=\"fruit\">Fruit</option>\n                    <option value=\"bark\">bark</option>\n                </select>\n                <button type=\"submit\">Submit</button>\n            </form>\n        </div>\n    )\n}\n\n\n","import React from 'react'\n\nexport default function PickingName(props) {\n    const { plantInfo, onAddingPlant } = props\n    return (\n        <div>\n            <h1>{plantInfo.plant.species.scientificNameWithoutAuthor}</h1>\n            <img src={plantInfo.picture} alt='plant' width='100px' />\n            <form onSubmit={onAddingPlant} >\n            <label for=\"name\">Pick a name</label>\n            <select name='plantName'>\n                    {plantInfo.plant.species.commonNames.map((plantName, i) => {\n                        return <option key={i} value={plantName}>{plantName}</option>\n                    })}\n                </select> <br/>\n                <label for=\"city\">city</label>\n                <input type=\"text\" id=\"city\" name=\"city\" /> <br/>\n                <button type='submit'>Submit</button>\n            </form>\n\n        </div>\n    )\n}\n\n// <FormLabel component=\"legend\">Name the plant</FormLabel>\n//                 <RadioGroup aria-label=\"name\" name=\"plantName\" value={value} onChange={handleChange}>\n//                     {plantInfo.plant.species.commonNames.map((plantName, i) => {\n//                         return <FormControlLabel key={i} value={plantName} control={<Radio />} label={plantName} />\n//                     })}\n//                 </RadioGroup>","import React, { useState } from 'react'\nimport { API_URL } from \"../config\";\nimport UploadPlant from './AddingPlant/UploadPlant';\nimport PickingName from './AddingPlant/PickingName';\nimport axios from 'axios'\n// import { ThemeConsumer } from 'styled-components';\n\n\nfunction AddPlant(props) {\n    const [plantName, setPlantName] = useState({})\n    const [hide, setHide] = useState(true)\n    async function handelImageUpload(event) {\n        event.preventDefault();\n        const file = event.target.imageUrl.files[0]\n        const organ = event.target.organ.value\n        let uploadForm = new FormData()\n        uploadForm.append('imageUrl', file)\n        uploadForm.append('organ', organ)\n        let result = await axios({\n            method: 'post',\n            url: `${API_URL}/plant/upload`,\n            data: uploadForm\n        })\n        setPlantName(result.data)\n        setHide(false)\n        console.log(result.data)\n\n\n    }\n    async function handelAddingPlant(event) {\n        event.preventDefault()\n        // let point = event.target.city.value\n        // let location = await axios (`https://nominatim.openstreetmap.org/search.php?city=amsterdam&format=json&accept-language=en`)\n        // console.log(location[0])\n\n        const plantData = await {\n            plantImageUrl: plantName.picture,\n            displayName: event.target.plantName.value,\n            scientificName: plantName.plant.species.scientificNameWithoutAuthor,\n            commonName: plantName.plant.species.commonNames,\n            location: event.target.city.value,\n        }\n        console.log(plantData.location)\n        await axios({\n            method: 'post',\n            url: `${API_URL}/plant/add`,\n            data: plantData,\n            withCredentials: true\n        })\n        props.history.push('/user/profile')\n    }\n\n    return (\n        <div>\n            {hide && <UploadPlant onImageUpload={handelImageUpload} />}\n            {!hide && <PickingName plantInfo={plantName} onAddingPlant={handelAddingPlant} />}\n        </div>\n    )\n}\n\nexport default AddPlant","import React, {useEffect, useState} from  'react'\nimport {MapContainer, TileLayer, Marker, Popup} from  'react-leaflet'\nimport axios from 'axios'\nimport { API_URL } from \"../config\";\n//Don't forget to import the css\nimport  'leaflet/dist/leaflet.css'\n\n\n  \nfunction MyMap() {\n\tconst [allPlants, setPlants] = useState([])\n    //Some random co-ordinate\n\tconst position = [Number(\"52.39709954999999\"), 4.648121325]\n\n\t// function check () {\n\t// \t// event.preventDefault()\n\t// \tconsole.log('check')\n\t// }\n\n\t//   useEffect (async () => {\n\t// \tlet response = await axios.get(`${API_URL}/search`, {withCredentials: true})\n\t// \tawait console.log(response)\n\t// \tsetPlants(response.data)\n\t// }, [])\n    //Do not forget to set a width and height style to your map. Else it won't show up\n\treturn (\n\t<div>\n\t\t{/* <input type=\"search\" id=\"myInput\" onChange={check()}></input> */}\n\t\t<MapContainer  \n\t\t\tstyle={{width: '800px', height: '500px'}} \n\t\t\tcenter={position}  zoom={13}  \n\t\t\tscrollWheelZoom={true}>\n\t\t\t<TileLayer\n\t\t\t\tattribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n\t\t\t\turl=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n\t\t\t/>\n\t\t\t{/* {\n\t\t\t\tallPlants.map((plant, i) =>{\n\t\t\t\t\treturn (<>\n\t\t\t\t\t<Marker  key={i} position={plant.location}>\n\t\t\t\t\t<Popup>\n\t\t\t\t\t\tPLANT <br  /> Easily customizable.\n\t\t\t\t\t</Popup>\n\t\t\t\t</Marker>\n\t\t\t\t</>)\n\t\t\t\t})\n\t\t\t} */}\n\t\t\t<Marker  position={position}>\n\t\t\t\t<Popup>\n\t\t\t\t\tPLANT <br  /> Easily customizable.\n\t\t\t\t</Popup>\n\t\t\t</Marker>\n\t\t</MapContainer>\n\t</div>\n\t)\n}\n\nexport  default MyMap","import React, { Component } from 'react'\nimport { IconButton, Typography } from '@material-ui/core'\nimport { Forum } from '@material-ui/icons'\n\nexport default class SinglePlantCard extends Component {\n    \n\n    \n    render() {\n\n        const { _id: plantId, displayName, location: city, scientificName, plantImageUrl, user: { username, _id: userId }} = this.props.plant\n\n\n            return (\n                <div style={{ border: '#BBB 1px solid', margin: '2px', marginBottom: '10px' }}>\n                    <div style={{\n                        display: 'flex',\n                        flexDirection: 'row',\n                        alignContent: 'center',\n                        justifyContent: 'space-between',\n                        padding: 'none'\n                    }}>\n\n                        <img src={plantImageUrl} alt={scientificName}\n                            style={{ height: '25vw', width: '25vw', maxHeight: '100px', maxWidth: '100px' }} />\n\n                        <div style={{ paddingLeft: '5px', width: '50vw', height: 'auto', display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\n                            <Typography variant=\"h5\">{displayName}</Typography>\n                            <Typography variant=\"subtitle1\">{scientificName}</Typography>\n                            <Typography variant=\"subtitle2\">{city}</Typography>\n                            <p>{`${this.props.plant.city} ${displayName}`}</p>\n                        </div>\n                        <div style={{ height: 'auto', width: '25vw', maxWidth: '100px', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n                            <IconButton onClick={this.props.onChatClick}><Forum/> </IconButton>\n\n\n                            <Typography varient=\"caption\" align=\"center\" >{username}</Typography>\n                        </div>\n                    </div>\n                </div>\n            )\n        \n    }\n}","import { Avatar, CircularProgress, Typography} from '@material-ui/core'\nimport { Eco } from '@material-ui/icons'\nimport React, { Component } from 'react'\nimport axios from 'axios'\nimport { API_URL, CHAT_URL} from '../../config'\nimport SinglePlantCard from '../Search/SinglePlantCard'\n\n\nexport default class PublicProfile extends Component {\n    \n    state = {\n        them: null,\n        fetchingUser: true,\n        me: null\n    }\n\n    componentDidMount = async () => {\n        const thisUser = this.props.match.params.userId\n        const me = this.props.me\n        let response = await axios.get(`${API_URL}/users/${thisUser}`, {withCredentials: true})\n        console.log('Public User data:', response.data)\n        await this.setState({\n            them: response.data,\n            fetchingUser: false,\n            me: me\n        })\n    }\n\n    handleChatClick = async () => {\n        console.log(this.state.me.username, this.state.them.username)\n\n        if (!this.state.me) {\n           this.props.history.push('/signin')\n        }\n        else {\n            let data = {\n                participants: [this.state.them._id, this.state.me._id]\n            }\n            let response = await axios.post(`${CHAT_URL}/conversation`, data, { withCredentials: true })\n            this.props.history.push(`/chat/${response.data._id}`)\n                }\n            }\n\n    render() {\n        if (this.state.fetchingUser) {\n            return <CircularProgress/>\n          }\n          const {them, me} = this.state\n          const routeProps = this.props.routeProps\n        return (\n            \n            <div style={{margin: '10px', display: 'flex', flexDirection: 'column', alignItems: 'center'}}>\n                <Avatar alt={them.username} src={them.profileImageUrl} style={{height: '30vw', width: '30vw', maxHeight: '150px', maxWidth: '150px'}}/>\n                <h1>{this.state.them.username}</h1>\n                <Typography variant=\"subtitle2\" color=\"textSecondary\" gutterBottom>{this.state.them.about}</Typography>\n                <div style={{margin: '10px'}}><Eco/></div>\n                {them.plantsOffered.map((plant, index) => {\n                    return ( <SinglePlantCard plant={plant} onChatClick={this.handleChatClick} key={index} {...routeProps}/> )\n                })}\n            </div>\n        )\n    }\n}\n","import axios from 'axios'\nimport React, { Component } from 'react'\nimport { API_URL, CHAT_URL, BASE_URL } from '../../config';\nimport './ChatPage.css'\nimport io from \"socket.io-client\";\nimport { Redirect } from 'react-router-dom';\n\nlet socket = ''\n\nexport default class ChatPage extends Component {\n    // adding a ref to the messages div\n    messagesEnd = React.createRef()\n    state = {\n        loading: true, \n        messageList: [],\n        currentMessage: '',\n    }\n\n    scrollToBottom = () => {\n        this.messagesEnd.scrollIntoView({ behavior: \"smooth\" });\n    }\n\n    componentDidMount(){\n        //setup your socket connection with the server\n        socket = io(`${BASE_URL}`);\n\n        let conversationId = this.props.match.params.chatId\n        axios.get(`${CHAT_URL}/messages/${conversationId}`)\n            .then((response) => {\n                console.log(response)\n                this.setState({\n                    loading: false, \n                    messageList: response.data\n                }, () => {\n                    this.scrollToBottom();\n                })\n            })\n        // ensure you are connected to a specific chat via webSocket    \n        socket.emit(\"join_chat\", conversationId);\n\n        //Handle incoming messages from webSocket\n        socket.on(\"receive_message\", (data) => {\n            console.log('Got data', data)\n            this.setState({\n                messageList: [...this.state.messageList, data]\n            }, () => {\n                this.scrollToBottom();\n            })\n        });    \n    }\n\n    handleMessageInput = (e) => {\n        this.setState({\n            currentMessage: e.target.value\n        })\n    }\n\n    sendMessage = async () => {\n        // Create the object structure\n        let messageContent = {\n            chatId: this.props.match.params.chatId,\n            content: {\n              sender: this.props.me,\n              message: this.state.currentMessage,\n            },\n          };\n          \n          // emit it so that everyone connected to the same chat receives the message\n        await socket.emit(\"send_message\", messageContent);\n        this.setState({\n            messageList: [...this.state.messageList, messageContent.content],\n            currentMessage: ''\n        }, () => {\n            this.scrollToBottom();\n        })\n    }\n\n\n    render() {\n        const { loading , messageList} = this.state\n        const { me } = this.props\n\n        if (loading) {\n            <p>Loading all messages . . .</p>\n        }\n\n        if(!me){\n            return <Redirect to={'/signin'}  />\n        }\n\n        return (\n            <div>\n                <h3>You're in the Chat Page </h3>\n                <div className=\"chatContainer\">\n                    <div className=\"messages\">\n                        {\n                            messageList.map((val) => {\n                                return (\n                                    <div key={val._id} className=\"messageContainer\" id={val.sender.name == me.name ? \"You\" : \"Other\"}>\n                                        <div className=\"messageIndividual\">\n                                            {val.sender.name}: {val.message}\n                                        </div>\n                                    </div>\n                                );\n                            })\n                        }\n                        <div style={{ float:\"left\", clear: \"both\" }}\n                            ref={(el) => { this.messagesEnd = el; }}>\n                        </div>\n                    </div>\n                    <div className=\"messageInputs\">\n                        <input value={this.state.currentMessage} type=\"text\" placeholder=\"Message...\"\n                            onChange={this.handleMessageInput}\n                        />\n                        <button onClick={this.sendMessage}>Send</button>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}","import {Switch, Route, withRouter, Link} from \"react-router-dom\";\nimport React, {Component} from 'react'\nimport axios from 'axios'\nimport { API_URL } from './config'\nimport { CircularProgress } from \"@material-ui/core\";\n\nimport SignUp from \"./components/auth/Signup\";\nimport SignIn from \"./components/auth/SignIn\";\nimport GoogleButton from \"./components/auth/GoogleButton\";\n\nimport PrivateProfile from \"./components/user/PrivateProfile\";\nimport EditProfile from \"./components/user/EditProfile\";\nimport AllChats from \"./components/chat/AllChats\";\nimport Search from \"./components/Search/Search\";\n\nimport Navbar from \"./components/Navbar\";\nimport ImageUpload from \"./components/ImageUpload\";\nimport AddPlant from \"./components/AddPlant\";\nimport CapturePicture from \"./components/CapturePicture\";\n\nimport Maps from \"./components/Maps\";\nimport PublicProfile from \"./components/user/PublicProfile\";\nimport ChatPage from \"./components/chat/ChatPage\";\n\n// import CapturePicture from \"./components/CapturePicture\";\n\nclass App extends Component {\n  \n  /////////////// STATE /////////////\n  state = {\n    user: null,\n    plantImage: null,\n    errorMessage: null,\n    fetchingUser: true,\n    showLoading: null\n  }\n\n  /////// LIFECYCLE METHODS //////////\n\n   componentDidMount = async() => {\n     try{\n    let userResponse = await axios.get(`${API_URL}/whoami`, {withCredentials: true})\n    console.log('App.js CDM whoami user', userResponse.data)\n     await this.setState({\n          user: userResponse.data,\n          fetchingUser: false,\n        })\n      }\n       catch(err) {\n        await this.setState({\n          fetchingUser: false,\n        })\n      }  \n    }\n  \n  /////// SIGN UP, SIGN-IN, GOOGLE LOGIN, LOG OUT  ///////\n  handleSignUp = async (event) => {\n    console.log(event.target.username.value)\n    event.preventDefault()\n    const { username, email, password } = event.target\n\n    let newUser = {\n      username: username.value,\n      email: email.value,\n      password: password.value\n    }\n\n    try {\n      let response = await axios.post(`${API_URL}/signup`, newUser)\n      if (response.data.errorMessage) {\n        this.setState({errorMessage: response.data.errorMessage})\n      }\n      this.props.history.push('/')\n    }\n    catch (err) {\n      console.log('Appjs Signup failed', err)\n    }\n  }\n  handleSignIn = async (event) => {\n    event.preventDefault()\n     const { email, password} = event.target\n\n     let myUser = {\n       email: email.value,\n       password: password.value\n     }\n \n     // make a POST signin request to the server\n     try {\n       let response = await axios.post(`${API_URL}/signin`, myUser, {withCredentials: true})\n       this.setState({\n         user: response.data\n       }, () => {\n          this.props.history.push('/user/profile')\n       })\n       \n     }\n     catch(err) {\n       console.log('Signin failed', err.response.data)\n          this.setState({\n          errorMessage:  err.response.data.error\n       })\n     }\n  }\n  handleGoogleSuccess = (data) => {\n    this.setState({\n      showLoading: true\n    })\n\n    const { givenName, familyName, email, imageUrl, googleId } = data.profileObj\n    let newUser = {\n      firstName: givenName,\n      lastName: familyName,\n      username: `${givenName} ${familyName}`,\n      email,\n      profileImageUrl: imageUrl,\n      googleId\n    }\n\n    console.log(newUser)\n    axios.post(`${API_URL}/google/info`, newUser, { withCredentials: true })\n      .then((response) => {\n        console.log('GoogleSignUp:', response)\n        this.setState({\n          user: response.data.data,\n          errorMessage: null,\n          showLoading: false\n        }, () => {\n          this.props.history.push('/user/profile')\n        });\n      })\n  }\n  handleGoogleFailure = () => {\n    console.log('failed google auth')\n  }\n  handleLogOut = async () => {\n    try {\n\n      await axios.post(`${API_URL}/logout`, {}, {withCredentials: true})\n      // clearing the user once they logout\n      this.setState({\n        user: null\n      } , () => {\n        this.props.history.push('/')\n      })\n\n    }\n    catch(err) {\n      console.log('Logout failed', err)\n    }\n  }\n\n  /////////////////// RENDER ///////////////////\n  render(){\n    if (this.state.fetchingUser) {\n      return <CircularProgress/>\n    }\n\n    return(\n      <>\n        <img src=\"/images/propagate-med.svg\" alt=\"propagate app\" />\n        <Switch>\n          <Route exact path={'/'} render={(routeProps) =>{\n            return(\n          <>\n            <SignIn errorMessage={this.state.errorMessage} onSignIn={this.handleSignIn}{...routeProps}/>\n            <GoogleButton onSuccess={this.handleGoogleSuccess} onFailure={this.handleGoogleFailure}/>\n            <Link to={`/signup`}>sign up?</Link>\n          </>\n          )}} />\n          <Route path={\"/signup\"} render={(routeProps) => {\n            return (\n            <>\n              <SignUp errorMessage={this.state.errorMessage} onSignUp={this.handleSignUp} {...routeProps} />\n              <GoogleButton onSuccess={this.handleGoogleSuccess} onFailure={this.handleGoogleFailure} />\n            </>\n          )}} />\n          <Route exact path={\"/signin\"} render={(routeProps) => {\n                return  <SignIn  errorMessage={this.state.errorMessage} onSignIn={this.handleSignIn} {...routeProps}  />\n          }}/>\n          <Route exact path={'/user/profile'} render={(routeProps) => {\n                return <PrivateProfile user={this.state.user} onLogOut={this.handleLogOut} {...routeProps} />\n          }} />\n          <Route exact path={'/user/edit-profile'} render={(routeProps) => {\n                return <EditProfile {...routeProps} />\n          }} />\n           <Route exact path={'/users/:userId'} render={(routeProps) => {\n                return <PublicProfile me={this.state.user} {...routeProps} />\n          }} />\n          <Route exact path={'/chats'} render={(routeProps) => {\n                return <AllChats me={this.state.user} {...routeProps} />\n          }} />\n           <Route path=\"/chat/:chatId\"  render={(routeProps) => {\n              return  <ChatPage me={this.state.user} {...routeProps}  />\n            }}/>\n          <Route exact path={'/search'} render={(routeProps) => {\n                return <Search {...routeProps} />\n          }} />\n         \n          <Route path={'/image-upload'} render={(routeProps) => {\n                return <ImageUpload {...routeProps} />\n          }} />\n          <Route path={\"/addplant\"} render={(routeProps) => {\n            return <AddPlant {...routeProps}/>\n          }} />\n          <Route path={\"/maps\"} render={(routeProps) =>{\n            return <Maps{...routeProps}/>\n          }} />\n          <Route path={'/capture'} render={(routerProps) => {\n            return <CapturePicture/>\n          }} />\n        </Switch>\n        {\n          this.state.user ? \n          <Navbar user={this.state.user} /> : null\n        }\n      </>\n    )\n  }\n\n}\n\nexport default withRouter(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}